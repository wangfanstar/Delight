
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ch.01 â€” å¥ å®šåŸºç¡€ | Hacker's Delight</title>
  <link rel="stylesheet" href="tailwind.css"/>
  <script src="alpine.min.js" defer></script>
  <script src="echarts.min.js"></script>
  <style>

    :root {
      --green:  #00ff88;
      --blue:   #00d4ff;
      --purple: #b14fff;
      --orange: #ff8c00;
      --red:    #ff4466;
      --dark:   #050810;
      --card:   #0d1117;
      --border: rgba(0,255,136,.18);
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    html{scroll-behavior:smooth;}

    body{
      background:var(--dark);
      color:#e2e8f0;
      font-family:'Inter',sans-serif;
      min-height:100vh;
      overflow-x:hidden;
      font-size:17px;
    }

    /* scanlines */
    body::after{
      content:'';position:fixed;inset:0;
      background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,136,.012) 2px,rgba(0,255,136,.012) 4px);
      pointer-events:none;z-index:0;
    }

    canvas#bg{position:fixed;inset:0;z-index:0;pointer-events:none;}

    #app{position:relative;z-index:1;}

    /* â”€â”€ NAV â”€â”€ */
    nav{
      position:fixed;top:0;left:0;right:0;z-index:100;
      background:rgba(5,8,16,.85);
      backdrop-filter:blur(12px);
      border-bottom:1px solid var(--border);
      padding:.75rem 2rem;
      display:flex;align-items:center;justify-content:space-between;
    }
    .nav-logo{
      font-family:'JetBrains Mono',monospace;
      font-size:.8rem;color:var(--green);
      text-decoration:none;
    }
    .nav-links{display:flex;gap:1.5rem;}
    .nav-links a{
      font-family:'JetBrains Mono',monospace;font-size:.72rem;
      color:#475569;text-decoration:none;
      transition:color .2s;
    }
    .nav-links a:hover{color:var(--green);}

    /* â”€â”€ HERO â”€â”€ */
    .hero{
      padding:7rem 2rem 3rem;
      text-align:center;
      max-width:900px;margin:0 auto;
    }
    .chapter-badge{
      display:inline-block;
      font-family:'JetBrains Mono',monospace;font-size:.7rem;
      color:var(--green);border:1px solid var(--green);
      padding:.3rem 1rem;border-radius:999px;
      letter-spacing:.15em;margin-bottom:1.5rem;
      animation:badge-pulse 2.5s ease-in-out infinite;
    }
    @keyframes badge-pulse{
      0%,100%{box-shadow:0 0 6px rgba(0,255,136,.4);}
      50%{box-shadow:0 0 20px rgba(0,255,136,.8);}
    }
    .hero-num{
      font-size:clamp(5rem,14vw,11rem);
      font-weight:900;
      font-family:'JetBrains Mono',monospace;
      background:linear-gradient(135deg,#1e293b 0%,var(--green) 60%);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      background-clip:text;
      line-height:1;
      opacity:.15;
      position:absolute;left:50%;transform:translateX(-50%);
      pointer-events:none;user-select:none;
    }
    .hero-title{
      font-size:clamp(2rem,5vw,3.8rem);
      font-weight:900;
      background:linear-gradient(135deg,#fff 0%,var(--green) 55%,var(--blue) 100%);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      background-clip:text;line-height:1.15;
      margin-bottom:.5rem;position:relative;
    }
    .hero-sub{
      font-family:'JetBrains Mono',monospace;
      color:#475569;font-size:.95rem;
      margin-bottom:2rem;
    }
    .hero-desc{
      color:#94a3b8;font-size:1.05rem;line-height:1.8;
      max-width:700px;margin:0 auto 3rem;
    }

    /* â”€â”€ SECTION â”€â”€ */
    section{max-width:1100px;margin:0 auto;padding:0 1.5rem 4rem;}

    .sec-header{
      display:flex;align-items:center;gap:.75rem;
      margin-bottom:1.75rem;
    }
    .sec-num{
      font-family:'JetBrains Mono',monospace;
      font-size:.7rem;color:var(--green);
      background:rgba(0,255,136,.08);
      border:1px solid rgba(0,255,136,.2);
      padding:.25rem .6rem;border-radius:4px;
      white-space:nowrap;
    }
    .sec-title{
      font-size:1.4rem;font-weight:700;color:#f1f5f9;
    }
    .sec-divider{
      flex:1;height:1px;
      background:linear-gradient(90deg,rgba(0,255,136,.3),transparent);
    }

    /* â”€â”€ CARDS â”€â”€ */
    .card{
      background:var(--card);
      border:1px solid #1e293b;
      border-radius:.75rem;
      padding:1.5rem;
      transition:border-color .25s,box-shadow .25s;
    }
    .card:hover{
      border-color:rgba(0,255,136,.3);
      box-shadow:0 4px 24px rgba(0,255,136,.08);
    }

    /* â”€â”€ GRID â”€â”€ */
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem;}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem;}
    @media(max-width:768px){
      .grid-2,.grid-3{grid-template-columns:1fr;}
    }

    /* â”€â”€ CODE â”€â”€ */
    .code-block{
      background:#010409;
      border:1px solid #1e293b;
      border-radius:.5rem;
      padding:1.25rem 1.5rem;
      font-family:'JetBrains Mono',monospace;
      font-size:.82rem;
      line-height:1.75;
      overflow-x:auto;
      color:#94a3b8;
      white-space:pre-wrap;
    }
    .code-block .kw{color:var(--purple);}
    .code-block .num{color:var(--orange);}
    .code-block .cm{color:#334155;font-style:italic;}
    .code-block .fn{color:var(--green);}
    .code-block .str{color:var(--blue);}
    .code-block .op{color:var(--red);}

    /* â”€â”€ BIT VIZ â”€â”€ */
    .bit-row{
      display:flex;gap:3px;flex-wrap:wrap;
      font-family:'JetBrains Mono',monospace;
      font-size:.85rem;
    }
    .bit-cell{
      width:32px;height:32px;
      display:flex;align-items:center;justify-content:center;
      border-radius:4px;
      border:1px solid #1e293b;
      cursor:pointer;
      transition:all .15s;
      user-select:none;
    }
    .bit-cell.one{background:rgba(0,255,136,.15);color:var(--green);border-color:rgba(0,255,136,.3);}
    .bit-cell.zero{background:#0d1117;color:#334155;}
    .bit-cell:hover{transform:scale(1.1);}

    /* â”€â”€ TIMELINE â”€â”€ */
    .timeline{
      position:relative;
      padding-left:2rem;
    }
    .timeline::before{
      content:'';
      position:absolute;left:.5rem;top:0;bottom:0;
      width:1px;
      background:linear-gradient(180deg,var(--green),var(--purple),transparent);
    }
    .tl-item{
      position:relative;
      margin-bottom:2rem;
    }
    .tl-dot{
      position:absolute;left:-1.6rem;top:.35rem;
      width:10px;height:10px;border-radius:50%;
      background:var(--green);
      box-shadow:0 0 8px var(--green);
    }
    .tl-year{
      font-family:'JetBrains Mono',monospace;
      font-size:.72rem;color:var(--green);
      margin-bottom:.2rem;
    }
    .tl-title{font-size:.95rem;font-weight:600;color:#f1f5f9;margin-bottom:.35rem;}
    .tl-desc{font-size:.85rem;color:#64748b;line-height:1.65;}

    /* â”€â”€ OPERATOR TABLE â”€â”€ */
    .op-table{
      width:100%;
      border-collapse:collapse;
      font-family:'JetBrains Mono',monospace;
      font-size:.8rem;
    }
    .op-table th{
      text-align:left;padding:.5rem .75rem;
      background:#0d1117;
      color:var(--green);
      border-bottom:1px solid #1e293b;
      letter-spacing:.05em;
      font-size:.7rem;
    }
    .op-table td{
      padding:.5rem .75rem;
      border-bottom:1px solid rgba(30,41,59,.6);
      color:#94a3b8;
    }
    .op-table tr:hover td{background:rgba(0,255,136,.04);}
    .op-table .prec-high td:first-child{color:var(--orange);}
    .op-table .prec-med  td:first-child{color:var(--blue);}
    .op-table .prec-low  td:first-child{color:var(--purple);}

    /* â”€â”€ INSIGHT CALLOUT â”€â”€ */
    .insight{
      background:rgba(0,255,136,.04);
      border:1px solid rgba(0,255,136,.15);
      border-left:3px solid var(--green);
      border-radius:.5rem;
      padding:1.25rem 1.5rem;
      margin-bottom:1.25rem;
      font-size:.9rem;line-height:1.75;
      color:#94a3b8;
    }
    .insight strong{color:var(--green);}
    .insight .label{
      font-family:'JetBrains Mono',monospace;
      font-size:.68rem;color:var(--green);
      letter-spacing:.1em;
      display:block;margin-bottom:.5rem;
    }

    /* â”€â”€ CRITIC â”€â”€ */
    .critic-box{
      background:linear-gradient(135deg,rgba(177,79,255,.06),rgba(0,212,255,.04));
      border:1px solid rgba(177,79,255,.25);
      border-radius:.75rem;
      padding:1.75rem;
      position:relative;
      overflow:hidden;
    }
    .critic-box::before{
      content:'ğŸ§ æ·±åº¦ç‚¹è¯„';
      font-family:'JetBrains Mono',monospace;
      font-size:.68rem;
      color:var(--purple);
      letter-spacing:.1em;
      display:block;margin-bottom:1rem;
    }
    .critic-box h3{
      font-size:1.1rem;font-weight:700;
      color:#f1f5f9;margin-bottom:.75rem;
    }
    .critic-item{
      margin-bottom:1rem;
      padding-left:1rem;
      border-left:2px solid rgba(177,79,255,.3);
    }
    .critic-item .ci-title{
      font-size:.85rem;font-weight:600;
      color:var(--purple);margin-bottom:.3rem;
    }
    .critic-item p{
      font-size:.83rem;line-height:1.7;color:#64748b;
    }

    /* â”€â”€ CHART â”€â”€ */
    .chart-wrap{
      width:100%;height:320px;
    }

    /* â”€â”€ TABS â”€â”€ */
    .tabs-nav{
      display:flex;gap:.5rem;
      margin-bottom:1rem;
      flex-wrap:wrap;
    }
    .tab-btn{
      font-family:'JetBrains Mono',monospace;font-size:.72rem;
      padding:.35rem .9rem;border-radius:4px;
      border:1px solid #1e293b;
      background:transparent;color:#475569;
      cursor:pointer;transition:all .2s;
    }
    .tab-btn.active,.tab-btn:hover{
      border-color:var(--green);color:var(--green);
      background:rgba(0,255,136,.08);
    }
    .tab-pane{display:none;}
    .tab-pane.active{display:block;}

    /* â”€â”€ BADGE TAGS â”€â”€ */
    .tag{
      display:inline-block;
      font-family:'JetBrains Mono',monospace;font-size:.65rem;
      padding:.2rem .5rem;border-radius:3px;
      margin:.15rem;
    }
    .tag-g{background:rgba(0,255,136,.1);color:var(--green);border:1px solid rgba(0,255,136,.2);}
    .tag-b{background:rgba(0,212,255,.1);color:var(--blue);border:1px solid rgba(0,212,255,.2);}
    .tag-p{background:rgba(177,79,255,.1);color:var(--purple);border:1px solid rgba(177,79,255,.2);}
    .tag-o{background:rgba(255,140,0,.1);color:var(--orange);border:1px solid rgba(255,140,0,.2);}

    /* â”€â”€ PROGRESS â”€â”€ */
    #progress{
      position:fixed;top:0;left:0;height:2px;z-index:200;
      background:linear-gradient(90deg,var(--green),var(--blue));
      transition:width .1s;
    }

    /* â”€â”€ FOOTER â”€â”€ */
    footer{
      text-align:center;padding:2rem;
      font-family:'JetBrains Mono',monospace;font-size:.72rem;
      color:#1e293b;border-top:1px solid #0f172a;
    }
    footer a{color:var(--green);text-decoration:none;}

    /* â”€â”€ ANIMATIONS â”€â”€ */
    @keyframes fadeUp{
      from{opacity:0;transform:translateY(24px);}
      to{opacity:1;transform:translateY(0);}
    }
    .fade-up{opacity:0;animation:fadeUp .55s ease both;}

    /* â”€â”€ RISC TABLE â”€â”€ */
    .risc-badge{
      display:inline-flex;align-items:center;gap:.4rem;
      background:rgba(0,212,255,.08);border:1px solid rgba(0,212,255,.2);
      border-radius:4px;padding:.3rem .7rem;
      font-family:'JetBrains Mono',monospace;font-size:.75rem;color:var(--blue);
      margin:.2rem;
    }

    /* number representations interactive */
    .numrep-input{
      background:#010409;border:1px solid rgba(0,255,136,.3);
      color:var(--green);font-family:'JetBrains Mono',monospace;
      font-size:1rem;padding:.5rem 1rem;border-radius:.4rem;
      outline:none;width:100%;max-width:280px;
    }
    .numrep-input:focus{box-shadow:0 0 0 2px rgba(0,255,136,.2);}
    .numrep-output{
      display:grid;grid-template-columns:100px 1fr;gap:.4rem .75rem;
      align-items:center;
      font-family:'JetBrains Mono',monospace;font-size:.82rem;
      margin-top:1rem;
    }
    .numrep-label{color:#475569;font-size:.72rem;letter-spacing:.05em;}
    .numrep-value{color:var(--green);word-break:break-all;}
    .numrep-value.neg{color:var(--red);}
    .numrep-value.hex{color:var(--orange);}
    .numrep-value.bin{color:var(--blue);font-size:.72rem;}

    /* scroll nav dots */
    .dot-nav{
      position:fixed;right:1.5rem;top:50%;
      transform:translateY(-50%);z-index:50;
      display:flex;flex-direction:column;gap:.6rem;
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background:#1e293b;cursor:pointer;
      transition:background .2s,transform .2s;
    }
    .dot.active{background:var(--green);transform:scale(1.4);}
    @media(max-width:768px){.dot-nav{display:none;}}

    /* â•â•â• å·¦ä¾§ç« èŠ‚å¯¼èˆªæ  â•â•â• */
    .sidebar-nav{
      position:fixed;left:0;top:0;bottom:0;
      width:180px;z-index:90;
      background:rgba(5,8,16,.92);
      backdrop-filter:blur(10px);
      border-right:1px solid rgba(0,255,136,.12);
      padding:1rem .5rem;
      overflow-y:auto;
      overflow-x:hidden;
      transition:transform .25s ease;
      display:flex;
      flex-direction:column;
    }
    .sidebar-nav::-webkit-scrollbar{width:3px;}
    .sidebar-nav::-webkit-scrollbar-thumb{background:#1e293b;border-radius:2px;}
    
    .sidebar-title{
      font-family:'JetBrains Mono',monospace;
      font-size:.62rem;color:var(--green);
      letter-spacing:.08em;
      padding:.4rem .6rem;
      border-bottom:1px solid rgba(0,255,136,.15);
      margin-bottom:.5rem;
      flex-shrink:0;
    }
    
    .sidebar-section{
      margin-bottom:.6rem;
      display:flex;
      flex-direction:column;
    }
    .sidebar-section-title{
      font-family:'JetBrains Mono',monospace;
      font-size:.58rem;color:#475569;
      padding:.3rem .6rem;
      letter-spacing:.05em;
      flex-shrink:0;
    }
    
    .sidebar-link{
      display:block;
      width:100%;
      clear:both;
      font-family:'JetBrains Mono',monospace;
      font-size:.68rem;
      color:#64748b;
      text-decoration:none;
      padding:.25rem .6rem .25rem 1rem;
      border-radius:3px;
      transition:all .15s;
      position:relative;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .sidebar-link:hover{
      color:var(--green);
      background:rgba(0,255,136,.06);
    }
    .sidebar-link.active{
      color:var(--green);
      background:rgba(0,255,136,.1);
    }
    .sidebar-link.active::before{
      content:'';
      position:absolute;left:0;top:50%;
      transform:translateY(-50%);
      width:2px;height:14px;
      background:var(--green);
      border-radius:1px;
    }
    
    .sidebar-toggle{
      display:none;
      position:fixed;left:.5rem;top:.85rem;z-index:95;
      width:32px;height:32px;
      background:rgba(5,8,16,.9);
      border:1px solid rgba(0,255,136,.2);
      border-radius:4px;
      color:var(--green);
      font-size:1.1rem;
      cursor:pointer;
    }
    
    @media(max-width:1100px){
      .sidebar-nav{transform:translateX(-100%);}
      .sidebar-nav.open{transform:translateX(0);}
      .sidebar-toggle{display:flex;align-items:center;justify-content:center;}
      body{padding-left:0!important;}
    }
    
    body.sidebar-open{padding-left:180px;}
    @media(min-width:1101px){body{padding-left:180px;}}
  </style>
</head>
<body>

<!-- å·¦ä¾§ç« èŠ‚å¯¼èˆªæ  -->
<button class="sidebar-toggle" @click="sidebarOpen = !sidebarOpen" x-data="{sidebarOpen: false}">
  â˜°
</button>
<nav class="sidebar-nav" :class="sidebarOpen ? 'open' : ''" x-data="{sidebarOpen: false}" @click.away="sidebarOpen = false">
  <div class="sidebar-title">ğŸ“š HACKER'S DELIGHT</div>
  
  <div class="sidebar-section">
    <div class="sidebar-section-title">æ­£æ–‡ç« èŠ‚</div>
    <a href="ch01.html" class="sidebar-link active">Ch.01 å¥ å®šåŸºç¡€</a>
    <a href="ch02.html" class="sidebar-link">Ch.02 åŸºç¡€æ“ä½œ</a>
    <a href="ch03.html" class="sidebar-link">Ch.03 2çš„å¹‚è¾¹ç•Œ</a>
    <a href="ch04.html" class="sidebar-link">Ch.04 ç®—æœ¯è¾¹ç•Œ</a>
    <a href="ch05.html" class="sidebar-link">Ch.05 æ•´æ•°é™¤æ³•</a>
    <a href="ch06.html" class="sidebar-link">Ch.06 ä½è®¡æ•°</a>
    <a href="ch07.html" class="sidebar-link">Ch.07 ä½ç¿»è½¬</a>
    <a href="ch08.html" class="sidebar-link">Ch.08 ä½ç½®æ¢</a>
    <a href="ch09.html" class="sidebar-link">Ch.09 å¾ªç¯å†—ä½™æ ¡éªŒ</a>
    <a href="ch10.html" class="sidebar-link">Ch.10 å¥‡å¶æ ¡éªŒ</a>
    <a href="ch11.html" class="sidebar-link">Ch.11 Grayç </a>
    <a href="ch12.html" class="sidebar-link">Ch.12 Hilbertæ›²çº¿</a>
    <a href="ch13.html" class="sidebar-link">Ch.13 æµ®ç‚¹æ•°</a>
    <a href="ch14.html" class="sidebar-link">Ch.14 å…¬å¼</a>
    <a href="ch15.html" class="sidebar-link">Ch.15 åŸºæ•°è½¬æ¢</a>
    <a href="ch16.html" class="sidebar-link">Ch.16 å¼€æ–¹</a>
    <a href="ch17.html" class="sidebar-link">Ch.17 æµ®ç‚¹å€’æ•°å¼€æ–¹</a>
    <a href="ch18.html" class="sidebar-link">Ch.18 å…¶å®ƒ</a>
  </div>
  
  <div class="sidebar-section">
    <div class="sidebar-section-title">é™„å½•</div>
    <a href="appA.html" class="sidebar-link">App.A è¯æ±‡è¡¨</a>
    <a href="appB.html" class="sidebar-link">App.B æ‘˜è¦</a>
    <a href="appC.html" class="sidebar-link">App.C å‘å±•å²</a>
  </div>
</nav>

<canvas id="bg"></canvas>
<div id="progress"></div>

<!-- Dot nav -->
<div class="dot-nav" id="dotNav">
  <div class="dot active" data-sec="hero"     title="é¡¶éƒ¨"></div>
  <div class="dot"         data-sec="notation" title="è®°å·ç³»ç»Ÿ"></div>
  <div class="dot"         data-sec="risc"     title="RISCæŒ‡ä»¤é›†"></div>
  <div class="dot"         data-sec="twos"     title="è¡¥ç ç³»ç»Ÿ"></div>
  <div class="dot"         data-sec="numrep"   title="æ•°å€¼è¡¨ç¤º"></div>
  <div class="dot"         data-sec="history"  title="å†å²æ¼”å˜"></div>
  <div class="dot"         data-sec="ops"      title="è¿ç®—ç¬¦è¡¨"></div>
  <div class="dot"         data-sec="critique" title="æ·±åº¦ç‚¹è¯„"></div>
</div>

<nav>
  <a class="nav-logo" href="index.html">â† HACKER'S DELIGHT</a>
  <div class="nav-links">
    <a href="#notation">è®°å·</a>
    <a href="#risc">RISC</a>
    <a href="#twos">è¡¥ç </a>
    <a href="#numrep">æ•°åˆ¶</a>
    <a href="#history">å†å²</a>
    <a href="#ops">è¿ç®—ç¬¦</a>
    <a href="#critique">ç‚¹è¯„</a>
  </div>
</nav>

<div id="app" x-data="app()" x-init="init()">

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HERO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="hero" id="hero">
    <div class="chapter-badge">CHAPTER 01 Â· LAYING THE GROUNDWORK Â· å¥ å®šåŸºç¡€</div>
    <div class="hero-title fade-up" style="animation-delay:.1s">
      å¥ å®šåŸºç¡€
    </div>
    <p class="hero-sub fade-up" style="animation-delay:.2s">
      // Laying the Groundwork â€” æ‰€æœ‰ä½è¿ç®—æŠ€å·§çš„åœ°åŸº
    </p>
    <p class="hero-desc fade-up" style="animation-delay:.3s">
      åœ¨é’»è¿›é‚£äº›ä»¤äººå«ç»çš„ä½æ“ä½œæŠ€å·§ä¹‹å‰ï¼ŒWarren å…ˆæŠŠèˆå°æ­å¥½ï¼š
      è®¡ç®—æœºä»£æ•°è®°å·ã€RISC æŒ‡ä»¤é›†çº¦å®šã€äºŒè¿›åˆ¶/åå…­è¿›åˆ¶ã€è¡¥ç ç³»ç»Ÿã€
      C è¯­è¨€è¿ç®—ç¬¦ä¼˜å…ˆçº§â€”â€”è¿™äº›çœ‹ä¼¼æ— èŠçš„å‡†å¤‡å·¥ä½œï¼Œ
      å´æ˜¯æ•´æœ¬ä¹¦æ‰€æœ‰é­”æ³•å¾—ä»¥æˆç«‹çš„å‰ææ¡ä»¶ã€‚
    </p>
    <div class="fade-up" style="animation-delay:.4s">
      <span class="tag tag-g">computer algebra</span>
      <span class="tag tag-b">RISC ISA</span>
      <span class="tag tag-p">two's complement</span>
      <span class="tag tag-o">operator precedence</span>
      <span class="tag tag-g">branch-free code</span>
      <span class="tag tag-b">notation</span>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 1: è®°å·ç³»ç»Ÿ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="notation">
    <div class="sec-header">
      <span class="sec-num">Â§1-1</span>
      <span class="sec-title">è®°å·ç³»ç»Ÿ â€” Notation</span>
      <div class="sec-divider"></div>
    </div>

    <div class="insight">
      <span class="label">// CORE CONCEPT</span>
      æœ¬ä¹¦åŒºåˆ†ä¸¤å¥—æ•°å­¦ä½“ç³»ï¼š<strong>æ™®é€šç®—æœ¯</strong>ï¼ˆæ•°å­¦ä¸Šçš„åŠ å‡ä¹˜é™¤ï¼‰å’Œ<strong>è®¡ç®—æœºç®—æœ¯</strong>ï¼ˆæ¯”ç‰¹ä¸²çš„æœ‰é™åŸŸè¿ç®—ï¼‰ã€‚
      è®¡ç®—æœºç®—æœ¯çš„ç»“æœæ€»æ˜¯è¢« mod 2â¿ æˆªæ–­ï¼Œn ä¸ºæœºå™¨å­—é•¿ã€‚é»˜è®¤ 32 ä½ï¼Œæœ‰ç¬¦å·æ•´æ•°ç”¨<strong>äºŒè¿›åˆ¶è¡¥ç </strong>è¡¨ç¤ºã€‚
    </div>

    <div class="grid-2">
      <div class="card">
        <h3 style="color:var(--green);font-family:'JetBrains Mono',monospace;font-size:.85rem;margin-bottom:1rem;">
          ğŸ“ ç²—ä½“å˜é‡ = å¯„å­˜å™¨å†…å®¹
        </h3>
        <p style="font-size:.88rem;color:#64748b;line-height:1.7;margin-bottom:1rem;">
          ä¹¦ä¸­ç”¨<strong style="color:#f1f5f9;">ç²—ä½“ x</strong> è¡¨ç¤ºå¯„å­˜å™¨ä¸­çš„æ¯”ç‰¹ä¸²ï¼ˆæ— ç±»å‹è§£é‡Šï¼‰ï¼Œ
          ç”¨<strong style="color:#94a3b8;">ç»†ä½“ x</strong> è¡¨ç¤ºå…¶åœ¨æŸç§è§£é‡Šï¼ˆæœ‰ç¬¦å·/æ— ç¬¦å·ï¼‰ä¸‹çš„ç®—æœ¯å€¼ã€‚
          è¿™ä¸ªåŒºåˆ†æå…¶é‡è¦â€”â€”åŒä¸€ä¸ª 32 ä½æ¨¡å¼ <code style="color:var(--orange);">0xFFFFFFFF</code>ï¼Œ
          æœ‰ç¬¦å·è§£é‡Šæ˜¯ âˆ’1ï¼Œæ— ç¬¦å·è§£é‡Šæ˜¯ 4,294,967,295ã€‚
        </p>
        <div class="code-block">
<span class="cm">// åŒä¸€æ¯”ç‰¹ä¸²ï¼Œä¸¤ç§äººæ ¼</span>
<span class="kw">unsigned</span> u = 0xFFFFFFFF;  <span class="cm">// u = 4294967295</span>
<span class="kw">int</span>      s = 0xFFFFFFFF;  <span class="cm">// s = -1</span>
<span class="cm">// ä¸¤è€…åº•å±‚ bits å®Œå…¨ä¸€æ ·ï¼</span>
        </div>
      </div>

      <div class="card">
        <h3 style="color:var(--blue);font-family:'JetBrains Mono',monospace;font-size:.85rem;margin-bottom:1rem;">
          ğŸ”¢ å¸¸æ•°è®°æ³•çº¦å®š
        </h3>
        <table class="op-table">
          <thead>
            <tr><th>å‰ç¼€</th><th>æ„ä¹‰</th><th>ç¤ºä¾‹</th></tr>
          </thead>
          <tbody>
            <tr><td>0x</td><td>åå…­è¿›åˆ¶</td><td style="color:var(--orange);">0xFF = 255</td></tr>
            <tr><td>0b</td><td>äºŒè¿›åˆ¶</td><td style="color:var(--blue);">0b1010 = 10</td></tr>
            <tr><td>æ— </td><td>åè¿›åˆ¶</td><td style="color:var(--green);">255</td></tr>
          </tbody>
        </table>
        <p style="font-size:.8rem;color:#475569;margin-top:.75rem;line-height:1.6;">
          ä¹¦ä¸­è¿˜å¤§é‡ä½¿ç”¨è®¡ç®—æœºä»£æ•°ç¬¦å·ï¼ˆå¦‚ âŒŠxâŒ‹ è¡¨ç¤º floorï¼Œrem è¡¨ç¤ºä½™æ•°ï¼‰ï¼Œ
          ä¸ C è¯­è¨€è¿ç®—ç¬¦å¯¹ç…§è§ Â§1-è¿ç®—ç¬¦è¡¨ã€‚
        </p>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 2: RISC æŒ‡ä»¤é›† â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="risc">
    <div class="sec-header">
      <span class="sec-num">Â§1-2</span>
      <span class="sec-title">è™šæ„ RISC æŒ‡ä»¤é›†</span>
      <div class="sec-divider"></div>
    </div>

    <div class="insight">
      <span class="label">// WHY RISC?</span>
      Warren é€‰ç”¨ä¸€å¥—<strong>è™šæ„ RISC æŒ‡ä»¤é›†</strong>ï¼ˆä¸‰åœ°å€æ ¼å¼ï¼‰ï¼Œè€ŒéçœŸå®çš„ x86/ARM æ±‡ç¼–ã€‚
      åŸå› å¾ˆåŠ¡å®ï¼šRISC æŒ‡ä»¤é›†å¹²å‡€ã€è§„åˆ™ï¼Œä¾¿äºè®¡ç®—"è¿™ä¸ªæ“ä½œéœ€è¦å‡ æ¡æŒ‡ä»¤"ï¼Œ
      ä¹Ÿä¾¿äºè¯»è€…æŠŠæŠ€å·§ç§»æ¤åˆ°ä»»ä½•çœŸå®å¹³å°ã€‚ä¹¦ä¸­æ‰€æœ‰"N æ¡æŒ‡ä»¤"çš„è®¡æ•°éƒ½åŸºäºè¿™å¥—è§„åˆ™ã€‚
    </div>

    <div class="grid-3" style="margin-bottom:1.25rem;">
      <div class="card">
        <div style="color:var(--green);font-family:'JetBrains Mono',monospace;font-size:.8rem;margin-bottom:.75rem;">åŸºç¡€æŒ‡ä»¤é›†</div>
        <div>
          <div class="risc-badge">add  r, s, t</div>
          <div class="risc-badge">sub  r, s, t</div>
          <div class="risc-badge">and  r, s, t</div>
          <div class="risc-badge">or   r, s, t</div>
          <div class="risc-badge">xor  r, s, t</div>
          <div class="risc-badge">shl  r, s, t</div>
          <div class="risc-badge">shr  r, s, t</div>
          <div class="risc-badge">sar  r, s, t</div>
          <div class="risc-badge">not  r, s</div>
          <div class="risc-badge">neg  r, s</div>
        </div>
      </div>
      <div class="card">
        <div style="color:var(--blue);font-family:'JetBrains Mono',monospace;font-size:.8rem;margin-bottom:.75rem;">å®Œæ•´æŒ‡ä»¤é›†é¢å¤–æ”¯æŒ</div>
        <div>
          <div class="risc-badge" style="color:var(--blue);border-color:rgba(0,212,255,.2);">mul  r, s, t</div>
          <div class="risc-badge" style="color:var(--blue);border-color:rgba(0,212,255,.2);">div  r, s, t</div>
          <div class="risc-badge" style="color:var(--blue);border-color:rgba(0,212,255,.2);">cmov r, s, t</div>
          <div class="risc-badge" style="color:var(--blue);border-color:rgba(0,212,255,.2);">rlw  r, s, t</div>
          <div class="risc-badge" style="color:var(--blue);border-color:rgba(0,212,255,.2);">nlz  r, s</div>
          <div class="risc-badge" style="color:var(--blue);border-color:rgba(0,212,255,.2);">pop  r, s</div>
        </div>
      </div>
      <div class="card">
        <div style="color:var(--purple);font-family:'JetBrains Mono',monospace;font-size:.8rem;margin-bottom:.75rem;">âš¡ æ— åˆ†æ”¯ä¼˜å…ˆåŸåˆ™</div>
        <p style="font-size:.83rem;color:#64748b;line-height:1.7;">
          ä¹¦ä¸­åçˆ±<strong style="color:#f1f5f9;">branch-free</strong> ä»£ç ã€‚
          åˆ†æ”¯ï¼ˆif/elseï¼‰ä¼šï¼š
        </p>
        <ul style="font-size:.8rem;color:#475569;line-height:1.8;padding-left:1rem;list-style:disc;margin-top:.5rem;">
          <li>æ‰“æ–­æŒ‡ä»¤æµæ°´çº¿</li>
          <li>é˜»ç¢ CPU ä¹±åºæ‰§è¡Œ</li>
          <li>å¦¨ç¢ç¼–è¯‘å™¨åšæŒ‡ä»¤è°ƒåº¦</li>
          <li>å¼•èµ·åˆ†æ”¯é¢„æµ‹å¤±è´¥æƒ©ç½š</li>
        </ul>
      </div>
    </div>

    <!-- RISC æŒ‡ä»¤å¯è§†åŒ– -->
    <div class="card" style="margin-bottom:1.25rem;">
      <div style="font-family:'JetBrains Mono',monospace;font-size:.8rem;color:var(--green);margin-bottom:1rem;">
        ğŸ® ä¸‰åœ°å€æŒ‡ä»¤æ¼”ç¤º â€” <span style="color:#475569;">r = s OP t</span>
      </div>
      <div class="code-block">
<span class="cm">// ä¸‰åœ°å€ RISC æ ¼å¼: ç›®æ ‡, æ“ä½œæ•°1, æ“ä½œæ•°2</span>
<span class="fn">add</span>   <span class="num">r3</span>, <span class="num">r1</span>, <span class="num">r2</span>    <span class="cm">// r3 = r1 + r2</span>
<span class="fn">xor</span>   <span class="num">r4</span>, <span class="num">r1</span>, <span class="num">r2</span>    <span class="cm">// r4 = r1 ^ r2</span>
<span class="fn">shr</span>   <span class="num">r5</span>, <span class="num">r3</span>, <span class="num">1</span>     <span class="cm">// r5 = r3 >> 1 (é€»è¾‘å³ç§»)</span>
<span class="fn">sar</span>   <span class="num">r6</span>, <span class="num">r3</span>, <span class="num">31</span>    <span class="cm">// r6 = r3 >> 31 (ç®—æœ¯å³ç§»ï¼Œå¤åˆ¶ç¬¦å·ä½)</span>
<span class="cm">// ç­‰ä»·äº C: int mask = x >> 31;</span>
<span class="cm">// å¦‚æœ xâ‰¥0 åˆ™ mask=0x00000000ï¼Œå¦åˆ™ mask=0xFFFFFFFF</span>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 3: è¡¥ç ç³»ç»Ÿ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="twos">
    <div class="sec-header">
      <span class="sec-num">Â§1-3</span>
      <span class="sec-title">è¡¥ç ç³»ç»Ÿ â€” Two's Complement</span>
      <div class="sec-divider"></div>
    </div>

    <div class="insight">
      <span class="label">// THE MAGIC OF TWO'S COMPLEMENT</span>
      æ‰€æœ‰æŠ€å·§çš„<strong>æœ€åº•å±‚åŸºç¡€</strong>ã€‚è¡¥ç ç³»ç»Ÿæœ€ç¾å¦™çš„æ€§è´¨ï¼š
      åŠ æ³•å™¨ç”µè·¯å¯¹æœ‰ç¬¦å·/æ— ç¬¦å·æ•´æ•°å®Œå…¨é€šç”¨ï¼Œç¡¬ä»¶ä¸éœ€è¦åŒºåˆ†ç¬¦å·ã€‚
      è´Ÿæ•° <strong>-x = ~x + 1</strong>ï¼Œè¿™ä¸ªç­‰å¼åœ¨æ•´æœ¬ä¹¦ä¸­è¢«åå¤ä½¿ç”¨ã€‚
    </div>

    <!-- äº¤äº’å¼æ¯”ç‰¹å¯è§†åŒ– -->
    <div class="card" style="margin-bottom:1.25rem;" x-data="bitDemo()">
      <div style="font-family:'JetBrains Mono',monospace;font-size:.8rem;color:var(--green);margin-bottom:1rem;">
        ğŸ”¬ äº¤äº’å¼è¡¥ç æ¼”ç¤º â€” ç‚¹å‡»æ¯”ç‰¹ä½ç¿»è½¬
      </div>
      <div class="bit-row" style="margin-bottom:.75rem;">
        <template x-for="(b, i) in bits" :key="i">
          <div
            class="bit-cell"
            :class="b ? 'one' : 'zero'"
            @click="toggle(i)"
            x-text="b"
            :title="`ä½${31-i} (æƒé‡ ${i===0 ? '-2Â³Â¹' : '2^'+(31-i)})`"
          ></div>
        </template>
      </div>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.5rem;margin-top:.5rem;">
        <div style="font-family:'JetBrains Mono',monospace;font-size:.82rem;">
          <span style="color:#475569;">åè¿›åˆ¶(æœ‰ç¬¦å·):</span>
          <span :style="{color: signed < 0 ? 'var(--red)' : 'var(--green)'}" x-text="signed"></span>
        </div>
        <div style="font-family:'JetBrains Mono',monospace;font-size:.82rem;">
          <span style="color:#475569;">åè¿›åˆ¶(æ— ç¬¦å·):</span>
          <span style="color:var(--orange);" x-text="unsigned_val"></span>
        </div>
        <div style="font-family:'JetBrains Mono',monospace;font-size:.82rem;">
          <span style="color:#475569;">åå…­è¿›åˆ¶:</span>
          <span style="color:var(--blue);" x-text="hex"></span>
        </div>
        <div style="font-family:'JetBrains Mono',monospace;font-size:.82rem;">
          <span style="color:#475569;">å–åå+1:</span>
          <span style="color:var(--purple);" x-text="neg_val"></span>
        </div>
      </div>
      <div style="margin-top:.75rem;font-family:'JetBrains Mono',monospace;font-size:.72rem;color:#334155;">
        ğŸ’¡ è¯•è¯•: å…¨1(âˆ’1) / åªæœ‰æœ€é«˜ä½=1(æœ€å°è´Ÿæ•°) / å…¨0 / åªæœ‰æœ€ä½ä½=1
      </div>
    </div>

    <div class="grid-2">
      <div class="card">
        <h3 style="color:var(--green);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.75rem;">
          å…³é”®æ’ç­‰å¼
        </h3>
        <div class="code-block">
<span class="cm">// è¡¥ç æ ¸å¿ƒå…¬å¼ (Warren å…¨ä¹¦åå¤ä½¿ç”¨)</span>
-x  == ~x + 1         <span class="cm">// å–åå®šä¹‰</span>
~x  == -x - 1         <span class="cm">// é€†æ¨</span>
x+y == (x|y) + (x&y)  <span class="cm">// åŠ æ³•åˆ†è§£</span>
x-y == x + ~y + 1     <span class="cm">// å‡æ³•è½¬åŠ æ³•</span>
x^y == (x|y) - (x&y)  <span class="cm">// XOR å…³ç³»</span>

<span class="cm">// ç¬¦å·ä¼ æ’­: ç®—æœ¯å³ç§»31ä½</span>
<span class="kw">int</span> mask = x >> 31;   <span class="cm">// xâ‰¥0: 0x00000000</span>
                      <span class="cm">// x&lt;0: 0xFFFFFFFF</span>
        </div>
      </div>
      <div class="card">
        <h3 style="color:var(--orange);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.75rem;">
          æº¢å‡ºé™·é˜±
        </h3>
        <p style="font-size:.85rem;color:#64748b;line-height:1.7;margin-bottom:.75rem;">
          æœ¬ä¹¦<strong style="color:#f1f5f9;">å‡è®¾æ•´æ•°æº¢å‡ºä¸­æ–­å·²å±è”½</strong>ï¼ˆC/Java æ­£å¸¸è¡Œä¸ºï¼‰ï¼Œ
          Pascal/Ada ç”¨æˆ·éœ€è¦ç‰¹åˆ«å°å¿ƒã€‚æº¢å‡ºæ—¶ç»“æœæŒ‰ mod 2Â³Â² æˆªæ–­ï¼Œ
          è¿™æ­£æ˜¯ä½æ“ä½œæŠ€å·§èƒ½å¥æ•ˆçš„ç‰©ç†åŸºç¡€ã€‚
        </p>
        <div class="code-block">
<span class="cm">// å±é™©! è¿™åœ¨ C ä¸­æ˜¯ UB (æœªå®šä¹‰è¡Œä¸º)</span>
<span class="kw">int</span> x = INT_MAX + 1;  <span class="cm">// â† UB in C</span>

<span class="cm">// å®‰å…¨: ç”¨æ— ç¬¦å·è¿ç®—</span>
<span class="kw">unsigned</span> u = UINT_MAX + 1; <span class="cm">// u = 0 âœ“</span>
        </div>
      </div>
    </div>

    <!-- ECharts: è¡¥ç æ•°è½´ -->
    <div class="card" style="margin-top:1.25rem;">
      <div style="font-family:'JetBrains Mono',monospace;font-size:.8rem;color:var(--green);margin-bottom:.5rem;">
        ğŸ“Š 4ä½æœºè¡¥ç æ•°å€¼åˆ†å¸ƒ
      </div>
      <div class="chart-wrap" id="chart-twos"></div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 4: æ•°å€¼è¡¨ç¤ºè½¬æ¢å™¨ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="numrep">
    <div class="sec-header">
      <span class="sec-num">Â§1-4</span>
      <span class="sec-title">æ•°å€¼è¡¨ç¤º â€” Number Representations</span>
      <div class="sec-divider"></div>
    </div>

    <div class="card" x-data="numConverter()">
      <div style="font-family:'JetBrains Mono',monospace;font-size:.8rem;color:var(--green);margin-bottom:1rem;">
        ğŸ”„ å¤šè¿›åˆ¶è½¬æ¢å™¨ â€” è¾“å…¥ä»»æ„æ•´æ•°ï¼ˆ32ä½æœ‰ç¬¦å·èŒƒå›´ï¼‰
      </div>
      <div style="display:flex;align-items:center;gap:1rem;flex-wrap:wrap;">
        <input
          type="number"
          class="numrep-input"
          x-model.number="val"
          @input="convert()"
          placeholder="è¾“å…¥æ•´æ•°ï¼Œå¦‚ -42"
          min="-2147483648"
          max="4294967295"
        />
        <div style="display:flex;gap:.5rem;flex-wrap:wrap;">
          <button @click="val=-1;convert()"  class="tab-btn active" style="font-size:.68rem;">-1</button>
          <button @click="val=-2147483648;convert()" class="tab-btn" style="font-size:.68rem;">INT_MIN</button>
          <button @click="val=2147483647;convert()"  class="tab-btn" style="font-size:.68rem;">INT_MAX</button>
          <button @click="val=42;convert()"          class="tab-btn" style="font-size:.68rem;">42</button>
          <button @click="val=255;convert()"         class="tab-btn" style="font-size:.68rem;">0xFF</button>
        </div>
      </div>
      <div class="numrep-output" x-show="result">
        <span class="numrep-label">åè¿›åˆ¶(æœ‰ç¬¦å·)</span>
        <span class="numrep-value" :class="result.signed < 0 ? 'neg' : ''" x-text="result.signed"></span>
        <span class="numrep-label">åè¿›åˆ¶(æ— ç¬¦å·)</span>
        <span class="numrep-value hex" x-text="result.unsigned"></span>
        <span class="numrep-label">åå…­è¿›åˆ¶</span>
        <span class="numrep-value hex" x-text="result.hex"></span>
        <span class="numrep-label">äºŒè¿›åˆ¶(32ä½)</span>
        <span class="numrep-value bin" x-text="result.bin"></span>
        <span class="numrep-label">å…«è¿›åˆ¶</span>
        <span class="numrep-value" style="color:var(--purple);" x-text="result.oct"></span>
        <span class="numrep-label">~x (æŒ‰ä½å–å)</span>
        <span class="numrep-value" style="color:var(--orange);" x-text="result.not_val"></span>
        <span class="numrep-label">-x (è¡¥ç å–è´Ÿ)</span>
        <span class="numrep-value neg" x-text="result.neg_val"></span>
        <span class="numrep-label">x & (x-1)</span>
        <span class="numrep-value" style="color:var(--blue);" x-text="result.xandxm1" :title="'æ¸…é™¤æœ€ä½ä½çš„1'"></span>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 5: å†å²æ¼”å˜ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="history">
    <div class="sec-header">
      <span class="sec-num">Â§HIST</span>
      <span class="sec-title">å†å²æ¼”å˜ â€” ä½è¿ç®—æŠ€æœ¯çš„å‰ä¸–ä»Šç”Ÿ</span>
      <div class="sec-divider"></div>
    </div>

    <div class="grid-2" style="margin-bottom:1.25rem;">
      <div>
        <div class="timeline">
          <div class="tl-item">
            <div class="tl-dot"></div>
            <div class="tl-year">1940s</div>
            <div class="tl-title">å†¯Â·è¯ºä¾æ›¼æ—¶ä»£</div>
            <div class="tl-desc">
              EDVAC é¦–ä»½è‰æ¡ˆï¼ˆ1945ï¼‰ç¡®ç«‹äº†äºŒè¿›åˆ¶ã€å›ºå®šå­—é•¿æ•´æ•°çš„åŸºç¡€ã€‚
              Bell Labs çš„ Stibitz å·²åœ¨ä½¿ç”¨å¤æ•°è®¡ç®—æœºï¼Œä½æ“ä½œä»ç¡¬ä»¶å±‚é¢è¯ç”Ÿã€‚
              æœ‰ç¬¦å·æ•°è¡¨ç¤ºåœ¨åŸç ã€åç ã€è¡¥ç ä¹‹é—´äº‰è®ºä¸ä¼‘ã€‚
            </div>
          </div>
          <div class="tl-item">
            <div class="tl-dot"></div>
            <div class="tl-year">1950sâ€“60s</div>
            <div class="tl-title">IBM 360 ç»Ÿä¸€è¡¥ç </div>
            <div class="tl-desc">
              IBM System/360 ç”¨è¡¥ç ä½œä¸ºå”¯ä¸€æœ‰ç¬¦å·æ•´æ•°è¡¨ç¤ºï¼Œ
              ç»ˆç»“äº†ä¸‰ç§è¡¨ç¤ºå¹¶å­˜çš„æ··ä¹±å±€é¢ã€‚Christopher Strachey 1961 å¹´åœ¨ CACM
              å‘è¡¨ "Bitwise Operations"ï¼Œæ˜¯ä½è¿ç®—ç†è®ºçš„æ—©æœŸå¥ åŸºè®ºæ–‡ã€‚
            </div>
          </div>
          <div class="tl-item">
            <div class="tl-dot"></div>
            <div class="tl-year">1972</div>
            <div class="tl-title">HAKMEM â€” ä½æ“ä½œåœ£ç»è¯ç”Ÿ</div>
            <div class="tl-desc">
              MIT AI å®éªŒå®¤ Gosperã€Beelerã€Schroeppel åœ¨ PDP-10 ä¸Šå†™å‡º HAKMEMï¼ˆAIM-239ï¼‰ï¼Œ
              é‚£æ˜¯ä¸€æœ¬å¥‡å¼‚çš„"ä½æ“ä½œæŠ€å·§å¤§å…¨"ã€‚Guy Steele Jr. è¯»åˆ°å®ƒå¦‚è·è‡³å®ï¼Œ
              åæ¥ä»–æ¨åŠ¨ Warren æŠŠè¿™ç±»æŠ€å·§ç³»ç»Ÿæ•´ç†æˆä¹¦ã€‚
            </div>
          </div>
          <div class="tl-item">
            <div class="tl-dot"></div>
            <div class="tl-year">1980sâ€“90s</div>
            <div class="tl-title">RISC é©å‘½ä¸ç¼–è¯‘å™¨æ—¶ä»£</div>
            <div class="tl-desc">
              MIPSã€SPARCã€PowerPC ç­‰ RISC æ¶æ„æ™®åŠï¼Œ
              "æ¯æ¡æŒ‡ä»¤éƒ½è®¡æ•°"çš„è®¾è®¡å“²å­¦å‚¬ç”Ÿäº†å¤§é‡ä½æ“ä½œä¼˜åŒ–ã€‚
              GCC ç¼–è¯‘å™¨å¼€å§‹è‡ªåŠ¨ç”Ÿæˆé­”æ³•æ•°é™¤æ³•ï¼ˆmagic number divisionï¼‰ã€‚
              Martin Hopkinsï¼ˆ"Mr. Compiler"ï¼‰åœ¨ IBM å°†æ¯ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸéƒ½å˜æˆç«èµ›ã€‚
            </div>
          </div>
          <div class="tl-item">
            <div class="tl-dot" style="background:var(--blue);box-shadow:0 0 8px var(--blue);"></div>
            <div class="tl-year">2002 / 2013</div>
            <div class="tl-title">Hacker's Delight ç¬¬ä¸€/äºŒç‰ˆ</div>
            <div class="tl-desc">
              Warren åœ¨ IBM å·¥ä½œæ•°åå¹´ç§¯ç´¯çš„æŠ€å·§ç»ˆäºæˆä¹¦ã€‚
              Guy Steele Jr. æ’°å†™äº† 50 é¡µä¹¦è¯„å¹¶è´¡çŒ®äº†å¤§é‡ç®—æ³•ã€‚
              ç¬¬äºŒç‰ˆï¼ˆ2013ï¼‰æ–°å¢äº†æ¯”ç‰¹æ´—ç‰Œã€SAG æ“ä½œã€æµ®ç‚¹æŠ€å·§ç­‰å†…å®¹ã€‚
            </div>
          </div>
          <div class="tl-item">
            <div class="tl-dot" style="background:var(--purple);box-shadow:0 0 8px var(--purple);"></div>
            <div class="tl-year">2010s+</div>
            <div class="tl-title">ç¡¬ä»¶æŒ‡ä»¤åŒ–</div>
            <div class="tl-desc">
              x86 POPCNTã€LZCNTã€TZCNTã€BMI1/BMI2 æŒ‡ä»¤é›†æŠŠè®¸å¤šè½¯ä»¶æŠ€å·§ç›´æ¥çƒ§è¿›ç¡¬ä»¶ã€‚
              ARM çš„ CLZã€RBIT åŒæ ·å¦‚æ­¤ã€‚ä¹¦ä¸­çš„"è½¯ä»¶æŠ€å·§"å¾ˆå¤šå·²ç»æœ‰äº†ç¡¬ä»¶å¿«æ·è·¯å¾„ï¼Œ
              ä½†ç®—æ³•æ€æƒ³æ°¸ä¸è¿‡æ—¶ã€‚
            </div>
          </div>
        </div>
      </div>

      <div>
        <!-- ECharts: å„å¹´ä»£å½±å“åŠ›æ—¶é—´çº¿ -->
        <div class="card" style="margin-bottom:1.25rem;">
          <div style="font-family:'JetBrains Mono',monospace;font-size:.8rem;color:var(--green);margin-bottom:.5rem;">
            ğŸ“ˆ ä½è¿ç®—æŠ€æœ¯å‘å±•è„‰ç»œ
          </div>
          <div class="chart-wrap" id="chart-history" style="height:260px;"></div>
        </div>

        <div class="insight" style="border-color:rgba(0,212,255,.2);background:rgba(0,212,255,.04);">
          <span class="label" style="color:var(--blue);">// WHY C? ä¸ºä»€ä¹ˆç”¨ C è€Œä¸æ˜¯æ±‡ç¼–ï¼Ÿ</span>
          Warren é€‰æ‹© C è¯­è¨€å±•ç¤ºç®—æ³•ï¼Œè€Œéæ±‡ç¼–ï¼ŒåŸå› æ˜¯ï¼š
          <strong>C ç›´æ¥æš´éœ²æ•´æ•°å’Œä½æ“ä½œ</strong>ï¼ŒåŒæ—¶å¯è·¨å¹³å°ç¼–è¯‘ã€‚
          Java è™½ç„¶ä¹Ÿå¯ä»¥ï¼Œä½†ç¼ºä¹æ— ç¬¦å·æ•´æ•°ï¼ˆJava 8 ä¹‹å‰ï¼‰ï¼Œå¾ˆå¤šæŠ€å·§éœ€è¦é¢å¤–å¤„ç†ã€‚
          Rust æ˜¯ç°ä»£æ›¿ä»£å“ï¼Œä½† Warren å†™ä¹¦æ—¶è¿˜æ˜¯ C çš„å¤©ä¸‹ã€‚
        </div>

        <div class="insight" style="border-color:rgba(177,79,255,.2);background:rgba(177,79,255,.04);">
          <span class="label" style="color:var(--purple);">// ä¸ºä»€ä¹ˆè¦ branch-freeï¼Ÿ</span>
          åˆ†æ”¯é¢„æµ‹å¤±è´¥ï¼ˆbranch mispredictionï¼‰åœ¨ç°ä»£ CPU ä¸Šä»£ä»·æ˜¯ 15â€“20 ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚
          å¯¹äºå†…å¾ªç¯ä¸­çš„æ¡ä»¶åˆ¤æ–­ï¼Œç”¨ä½æ“ä½œæ¶ˆé™¤åˆ†æ”¯å¯ä»¥å°†æ€§èƒ½æå‡ 2â€“5 å€ã€‚
          ä¹¦ä¸­"branch-free ç»æ´»"æ¥è‡ªè¿™ä¸ªæ€§èƒ½ç°å®ã€‚
        </div>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 6: è¿ç®—ç¬¦è¡¨ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="ops">
    <div class="sec-header">
      <span class="sec-num">Â§1-5</span>
      <span class="sec-title">è¿ç®—ç¬¦ä¼˜å…ˆçº§è¡¨ â€” Operator Precedence</span>
      <div class="sec-divider"></div>
    </div>

    <div class="insight">
      <span class="label">// OPERATOR TABLE 1-1</span>
      ä¹¦ä¸­çš„è®¡ç®—æœºä»£æ•°è¯­è¨€ä¸ C å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§ã€‚
      <strong>æœ€å¸¸è¸©çš„å‘</strong>ï¼š<code style="color:var(--orange);">a & b == c</code>
      åœ¨ C ä¸­å®é™…æ˜¯ <code style="color:var(--red);">a & (b == c)</code>ï¼Œ
      å› ä¸º <code>==</code> ä¼˜å…ˆçº§é«˜äº <code>&</code>ã€‚è¿™ä¸ª bug å·²ç»å¯¼è‡´æ— æ•°å®‰å…¨æ¼æ´ã€‚
    </div>

    <div class="card">
      <div class="tabs-nav">
        <button class="tab-btn active" @click="opsTab='c'">C è¿ç®—ç¬¦</button>
        <button class="tab-btn" @click="opsTab='algebra'">è®¡ç®—æœºä»£æ•°</button>
        <button class="tab-btn" @click="opsTab='pitfalls'">âš ï¸ å¸¸è§é™·é˜±</button>
      </div>

      <!-- C è¿ç®—ç¬¦ -->
      <div class="tab-pane" :class="opsTab==='c' ? 'active' : ''">
        <table class="op-table">
          <thead>
            <tr><th>ä¼˜å…ˆçº§</th><th>C è¿ç®—ç¬¦</th><th>æè¿°</th><th>ç»“åˆæ€§</th></tr>
          </thead>
          <tbody>
            <tr class="prec-high"><td>16</td><td style="color:var(--green);">() [] f()</td><td>æ‹¬å·/ä¸‹æ ‡/å‡½æ•°è°ƒç”¨</td><td>L</td></tr>
            <tr class="prec-high"><td>15</td><td style="color:var(--green);">++ --</td><td>åå¢/åå‡</td><td>L</td></tr>
            <tr class="prec-high"><td>14</td><td style="color:var(--green);">~ ! - (cast) xáµ</td><td>ä¸€å…ƒè¿ç®—ç¬¦</td><td>R</td></tr>
            <tr class="prec-high"><td>13</td><td style="color:var(--green);">* / %</td><td>ä¹˜é™¤ä½™</td><td>L</td></tr>
            <tr class="prec-high"><td>12</td><td style="color:var(--green);">+ -</td><td>åŠ å‡</td><td>L</td></tr>
            <tr class="prec-med"><td>11</td><td style="color:var(--blue);"><< >></td><td>ç§»ä½</td><td>L</td></tr>
            <tr class="prec-med"><td>10</td><td style="color:var(--blue);">< <= > >= &lt;u â‰¤áµ¤ â‰¥áµ¤ >áµ¤</td><td>æ¯”è¾ƒ</td><td>L</td></tr>
            <tr class="prec-med"><td>9</td><td style="color:var(--blue);">== !=</td><td>ç­‰äº/ä¸ç­‰äº</td><td>L</td></tr>
            <tr class="prec-med"><td>8</td><td style="color:var(--blue);">&</td><td>æŒ‰ä½ä¸</td><td>L</td></tr>
            <tr class="prec-med"><td>7</td><td style="color:var(--blue);">^</td><td>æŒ‰ä½å¼‚æˆ–</td><td>L</td></tr>
            <tr class="prec-med"><td>6</td><td style="color:var(--blue);">|</td><td>æŒ‰ä½æˆ–</td><td>L</td></tr>
            <tr class="prec-low"><td>5</td><td style="color:var(--purple);">&&</td><td>é€»è¾‘ä¸</td><td>L</td></tr>
            <tr class="prec-low"><td>4</td><td style="color:var(--purple);">||</td><td>é€»è¾‘æˆ–</td><td>L</td></tr>
            <tr class="prec-low"><td>3</td><td style="color:var(--purple);">?:</td><td>ä¸‰ç›®è¿ç®—ç¬¦</td><td>R</td></tr>
            <tr class="prec-low"><td>2</td><td style="color:var(--purple);">= += -= etc.</td><td>èµ‹å€¼</td><td>R</td></tr>
            <tr class="prec-low"><td>1</td><td style="color:var(--purple);">,</td><td>é€—å·</td><td>L</td></tr>
          </tbody>
        </table>
      </div>

      <!-- è®¡ç®—æœºä»£æ•° -->
      <div class="tab-pane" :class="opsTab==='algebra' ? 'active' : ''">
        <table class="op-table">
          <thead>
            <tr><th>C å†™æ³•</th><th>è®¡ç®—æœºä»£æ•°</th><th>è¯´æ˜</th></tr>
          </thead>
          <tbody>
            <tr><td>x & y</td><td style="color:var(--green);">x âˆ§ y æˆ– x AND y</td><td>æŒ‰ä½ä¸</td></tr>
            <tr><td>x | y</td><td style="color:var(--green);">x âˆ¨ y æˆ– x OR y</td><td>æŒ‰ä½æˆ–</td></tr>
            <tr><td>x ^ y</td><td style="color:var(--green);">x âŠ• y</td><td>æŒ‰ä½å¼‚æˆ–</td></tr>
            <tr><td>~x</td><td style="color:var(--blue);">xÌ„ æˆ– NOT x</td><td>æŒ‰ä½å–åï¼ˆä¸€'sè¡¥ï¼‰</td></tr>
            <tr><td>x << n</td><td style="color:var(--blue);">x â‰ª n</td><td>é€»è¾‘å·¦ç§»</td></tr>
            <tr><td>x >> n (unsigned)</td><td style="color:var(--blue);">x â‰« n</td><td>é€»è¾‘å³ç§»</td></tr>
            <tr><td>x >> n (signed)</td><td style="color:var(--orange);">x â‰«â‚ n</td><td>ç®—æœ¯å³ç§»ï¼ˆç¬¦å·æ‰©å±•ï¼‰</td></tr>
            <tr><td>abs(x)</td><td style="color:var(--purple);">|x|</td><td>ç»å¯¹å€¼ï¼ˆä½† |INT_MIN|=INT_MINï¼‰</td></tr>
            <tr><td>floor(x)</td><td style="color:var(--purple);">âŒŠxâŒ‹</td><td>å‘ä¸‹å–æ•´</td></tr>
            <tr><td>ceil(x)</td><td style="color:var(--purple);">âŒˆxâŒ‰</td><td>å‘ä¸Šå–æ•´</td></tr>
            <tr><td>x % y (mod)</td><td style="color:var(--green);">x rem y</td><td>ä½™æ•°ï¼ˆæˆªæ–­é™¤æ³•ï¼‰</td></tr>
          </tbody>
        </table>
      </div>

      <!-- é™·é˜± -->
      <div class="tab-pane" :class="opsTab==='pitfalls' ? 'active' : ''">
        <div class="grid-2">
          <div>
            <div class="code-block" style="margin-bottom:.75rem;">
<span class="cm">// âŒ é™·é˜±1: & ä¼˜å…ˆçº§ä½äº ==</span>
<span class="kw">if</span> (x & mask == 0) { ... }
<span class="cm">// å®é™…æ˜¯: if (x & (mask==0)) !</span>
<span class="cm">// âœ… æ­£ç¡®å†™æ³•:</span>
<span class="kw">if</span> ((x & mask) == 0) { ... }
            </div>
            <div class="code-block" style="margin-bottom:.75rem;">
<span class="cm">// âŒ é™·é˜±2: æœ‰ç¬¦å·æ•´æ•°å³ç§»ä¸å¯ç§»æ¤</span>
<span class="kw">int</span> x = -1;
x >> 1;  <span class="cm">// ISO C æœªå®šä¹‰!</span>
<span class="cm">// å¯èƒ½æ˜¯ 0x7FFFFFFF ä¹Ÿå¯èƒ½æ˜¯ 0xFFFFFFFF</span>
<span class="cm">// Warren ä¹¦ä¸­å‡è®¾æ˜¯ç®—æœ¯å³ç§»(ç¬¦å·æ‰©å±•)</span>
            </div>
          </div>
          <div>
            <div class="code-block" style="margin-bottom:.75rem;">
<span class="cm">// âŒ é™·é˜±3: ç§»ä½é‡â‰¥å­—é•¿</span>
1 << 32;  <span class="cm">// UB in C (32-bit int)</span>
<span class="cm">// åœ¨æŸäº› CPU ä¸Šç»“æœæ˜¯ 1ï¼Œæœ‰äº›æ˜¯ 0</span>
<span class="cm">// ä¹¦ä¸­æ‰€æœ‰ç®—æ³•éƒ½å›é¿è¿™ä¸ªæƒ…å†µ</span>
            </div>
            <div class="code-block">
<span class="cm">// âŒ é™·é˜±4: æœ‰ç¬¦å·æº¢å‡ºæ˜¯ UB</span>
<span class="kw">int</span> x = INT_MAX;
x + 1;    <span class="cm">// UB, ç¼–è¯‘å™¨å¯ä»¥å‡è®¾ä¸å‘ç”Ÿ!</span>
<span class="cm">// âœ… è¦ç”¨æ— ç¬¦å·æˆ– __builtin_add_overflow</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 7: åº”ç”¨åœºæ™¯ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="apps">
    <div class="sec-header">
      <span class="sec-num">Â§APP</span>
      <span class="sec-title">åº”ç”¨åœºæ™¯ â€” Where This Matters</span>
      <div class="sec-divider"></div>
    </div>

    <div class="grid-3">
      <div class="card">
        <div style="font-size:1.5rem;margin-bottom:.75rem;">ğŸ”§</div>
        <h3 style="color:var(--green);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.5rem;">ç¼–è¯‘å™¨åç«¯</h3>
        <p style="font-size:.83rem;color:#64748b;line-height:1.7;">
          GCC/LLVM çš„ä»£ç ç”Ÿæˆå™¨å¤§é‡ä½¿ç”¨è¿™äº›æŠ€å·§â€”â€”å¸¸æ•°é™¤æ³•å˜ä¹˜æ³•ã€
          åˆ†æ”¯æ¶ˆé™¤ã€bit count å†…è”ã€å¯¹é½è®¡ç®—ç­‰ã€‚
          ç†è§£è¿™ç« çŸ¥è¯†æ‰èƒ½çœ‹æ‡‚ç¼–è¯‘å™¨ç”Ÿæˆçš„æ±‡ç¼–ã€‚
        </p>
      </div>
      <div class="card">
        <div style="font-size:1.5rem;margin-bottom:.75rem;">ğŸ®</div>
        <h3 style="color:var(--blue);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.5rem;">æ¸¸æˆå¼•æ“ / å®æ—¶ç³»ç»Ÿ</h3>
        <p style="font-size:.83rem;color:#64748b;line-height:1.7;">
          æ¸¸æˆå¼•æ“çš„ç¢°æ’æ£€æµ‹ã€æ ‡å¿—ä½æ“ä½œã€å†…å­˜åˆ†é…å™¨ï¼ˆå¯¹é½åˆ°2çš„å¹‚ï¼‰
          éƒ½ç›´æ¥ä¾èµ–è¿™äº›åŸºç¡€ã€‚Unreal/Unity å†…éƒ¨ä»£ç å¤„å¤„å¯è§è¿™æœ¬ä¹¦çš„å½±å­ã€‚
        </p>
      </div>
      <div class="card">
        <div style="font-size:1.5rem;margin-bottom:.75rem;">ğŸ”</div>
        <h3 style="color:var(--purple);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.5rem;">å¯†ç å­¦å®ç°</h3>
        <p style="font-size:.83rem;color:#64748b;line-height:1.7;">
          AES/SHA/ChaCha ç­‰ç®—æ³•çš„é«˜æ•ˆå®ç°ï¼Œconstant-time ç¼–ç¨‹ï¼ˆé˜²ä¾§ä¿¡é“æ”»å‡»ï¼‰ï¼Œ
          éƒ½éœ€è¦ç²¾ç¡®ç†è§£ä½æ“ä½œçš„åº•å±‚è¡Œä¸ºã€‚
        </p>
      </div>
      <div class="card">
        <div style="font-size:1.5rem;margin-bottom:.75rem;">ğŸ¤–</div>
        <h3 style="color:var(--orange);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.5rem;">AI/ML æ¨ç†å¼•æ“</h3>
        <p style="font-size:.83rem;color:#64748b;line-height:1.7;">
          é‡åŒ–ç¥ç»ç½‘ç»œï¼ˆINT8/INT4 æ¨ç†ï¼‰ã€ä½å‘é‡ç›¸ä¼¼åº¦ï¼ˆHamming distanceï¼‰ã€
          SIMD å‘é‡åŒ–â€”â€”è¿™äº›éƒ½å»ºç«‹åœ¨æœ¬ç« æ¦‚å¿µä¹‹ä¸Šã€‚
        </p>
      </div>
      <div class="card">
        <div style="font-size:1.5rem;margin-bottom:.75rem;">ğŸ—„ï¸</div>
        <h3 style="color:var(--green);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.5rem;">æ•°æ®åº“ / å­˜å‚¨å¼•æ“</h3>
        <p style="font-size:.83rem;color:#64748b;line-height:1.7;">
          ä½å›¾ç´¢å¼•ï¼ˆRoaring Bitmapï¼‰ã€å¸ƒéš†è¿‡æ»¤å™¨ã€B+æ ‘èŠ‚ç‚¹å‹ç¼©ï¼Œ
          éƒ½ä¾èµ–ç²¾ç¡®çš„ä½æ“ä½œè¯­ä¹‰å’Œ CPU æŒ‡ä»¤è®¡æ•°åˆ†æã€‚
        </p>
      </div>
      <div class="card">
        <div style="font-size:1.5rem;margin-bottom:.75rem;">ğŸ“¡</div>
        <h3 style="color:var(--blue);font-size:.9rem;font-family:'JetBrains Mono',monospace;margin-bottom:.5rem;">åµŒå…¥å¼ / FPGA</h3>
        <p style="font-size:.83rem;color:#64748b;line-height:1.7;">
          MCU ä¸Šèµ„æºæåº¦å—é™ï¼Œæ¯ä¸ªå­—èŠ‚éƒ½çè´µã€‚
          RISC-V/ARM Cortex-M ç¨‹åºå‘˜å¿…é¡»ç²¾é€šè¿™äº›åŸºç¡€æ“ä½œæ‰èƒ½å†™å‡ºé«˜æ•ˆå›ºä»¶ã€‚
        </p>
      </div>
    </div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION 8: æ·±åº¦ç‚¹è¯„ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section id="critique">
    <div class="sec-header">
      <span class="sec-num">Â§CRITIQUE</span>
      <span class="sec-title">æ·±åº¦ç‚¹è¯„ â€” æŠ€æœ¯å“²å­¦ä¸æ‰¹åˆ¤æ€§æ€è€ƒ</span>
      <div class="sec-divider"></div>
    </div>

    <div class="critic-box">
      <h3>è¡¥ç ï¼šä¸€ä¸ª"å¶ç„¶çš„å®Œç¾"è®¾è®¡</h3>
      <div class="critic-item">
        <div class="ci-title">ä¸ºä»€ä¹ˆé€‰è¡¥ç ï¼Œè€ŒéåŸç /åç ï¼Ÿ</div>
        <p>
          1960 å¹´ä»£ IBM 360 é€‰æ‹©è¡¥ç å¹¶éå¶ç„¶ã€‚è¡¥ç è®©<strong style="color:#f1f5f9;">åŠ æ³•å™¨ä¸éœ€è¦åŒºåˆ†ç¬¦å·</strong>â€”â€”
          åŒä¸€å¥—ç”µè·¯å¯ä»¥å¤„ç†æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°ï¼Œç¡¬ä»¶æˆæœ¬ç›´æ¥ç åŠã€‚
          åŸç éœ€è¦ç¬¦å·ä½å•ç‹¬å¤„ç†ï¼Œæœ‰ä¸¤ä¸ªé›¶ï¼ˆ+0 å’Œ -0ï¼‰ï¼Œåç åŒæ ·æœ‰ä¸¤ä¸ªé›¶ä¸”è¿›ä½è§„åˆ™å¤æ‚ã€‚
          è¡¥ç çš„"æ„å¤–æ”¶è·"æ˜¯è®©ä½æ“ä½œæŠ€å·§å¦‚æ­¤ä¼˜é›…ï¼š<code style="color:var(--orange);">-x = ~x + 1</code>
          è¿™ä¸ªå…¬å¼ç®€å•åˆ°åƒä¸ªæ•°å­¦ç¬‘è¯ï¼Œä½†å®ƒæ˜¯æ•´æœ¬ä¹¦æ‰€æœ‰é­”æ³•çš„ç‰©ç†åŸºç¡€ã€‚
        </p>
      </div>
      <div class="critic-item">
        <div class="ci-title">æœ‰æ²¡æœ‰å…¶ä»–å®ç°æ–¹å¼ï¼Ÿ</div>
        <p>
          ç°ä»£é‡å­è®¡ç®—æ¢ç´¢äº†è¶…è¶ŠäºŒè¿›åˆ¶çš„ä¸‰å€¼é€»è¾‘ï¼ˆternaryï¼‰ï¼›
          Google çš„ Brain Floatï¼ˆbfloat16ï¼‰æŠŠç²¾åº¦å’ŒèŒƒå›´é‡æ–°æƒè¡¡ã€‚
          ä½†å¯¹äºé€šç”¨æ•´æ•°è¿ç®—ï¼Œè¡¥ç åœ¨<strong style="color:#f1f5f9;">ç¡¬ä»¶ç®€å•æ€§ Ã— æ•°å­¦å®Œå¤‡æ€§ Ã— å·¥ç¨‹å®ç”¨æ€§</strong>
          ä¸‰ç»´åº¦ä¸Šçš„ç»¼åˆå¾—åˆ†æ— å‡ºå…¶å³ã€‚å”¯ä¸€çš„"å‰¯ä½œç”¨"æ˜¯ INT_MIN çš„ç»å¯¹å€¼ç­‰äºè‡ªèº«â€”â€”
          è¿™ä¸ªè¾¹ç•Œæ¡ä»¶åœ¨æœ¬ä¹¦ä¸­åå¤å‡ºç°ï¼Œæ˜¯å¾ˆå¤šæŠ€å·§çš„ç»†èŠ‚æ³¨æ„ç‚¹ã€‚
        </p>
      </div>
      <div class="critic-item">
        <div class="ci-title">RISC vs CISCï¼šè¿™å¥—ä¹¦å¯¹ CISC ç¨‹åºå‘˜è¿˜æœ‰ç”¨å—ï¼Ÿ</div>
        <p>
          æœ‰ï¼Œè€Œä¸”éå¸¸æœ‰ç”¨ã€‚å³ä½¿åœ¨ x86 ä¸Šï¼ŒCPU å†…éƒ¨æ‰§è¡Œçš„ä¹Ÿæ˜¯å¾®æ“ä½œï¼ˆÂµopsï¼‰ï¼Œ
          æœ¬è´¨ä¸Šæ˜¯ RISCã€‚æ›´é‡è¦çš„æ˜¯ï¼Œ<strong style="color:#f1f5f9;">ç®—æ³•æ€æƒ³ä¸ä¾èµ–å…·ä½“ISA</strong>â€”â€”
          ç†è§£"æ¸…é™¤æœ€ä½ä½1æ¯”ç‰¹"çš„é€»è¾‘ï¼Œæ— è®ºä½ ç”¨ x86 çš„ <code style="color:var(--orange);">BLSR</code>
          è¿˜æ˜¯ RISC çš„ <code style="color:var(--orange);">and r, x, x-1</code>ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªé“ç†ã€‚
          CISC æŒ‡ä»¤é›†åªæ˜¯æŠŠå¸¸è§æ¨¡å¼å°è£…æˆå•æ¡æŒ‡ä»¤ï¼Œä¸å¦¨ç¢ä»ç®—æ³•å±‚é¢ç†è§£é—®é¢˜ã€‚
        </p>
      </div>
      <div class="critic-item">
        <div class="ci-title">å¯æ¨å¹¿åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Ÿ</div>
        <p>
          <strong style="color:#f1f5f9;">æ¨¡å—åŒ–æ€ç»´</strong>ï¼šWarren æŠŠæ•´ä¸ªè®¡ç®—æœºä¸–ç•ŒæŠ½è±¡æˆ"å­—é•¿ä¸º n çš„æœ‰é™åŸŸä¸Šçš„ä½æ“ä½œ"ï¼Œ
          è¿™å¥—æ€ç»´å¯ä»¥ç›´æ¥è¿ç§»åˆ°ï¼šå¯†ç å­¦ï¼ˆæœ‰é™åŸŸ GF(2â¿)ï¼‰ã€
          ä¿¡å·å¤„ç†ï¼ˆå®šç‚¹æ•°è¿ç®—ï¼‰ã€AI é‡åŒ–ï¼ˆä½æ¯”ç‰¹æ¨ç†ï¼‰ã€ç¡¬ä»¶æè¿°è¯­è¨€ï¼ˆVHDL/Verilogï¼‰ã€‚
          å‡¡æ˜¯"æœ‰é™ç²¾åº¦æ•´æ•°"çš„åœ°æ–¹ï¼Œè¿™æœ¬ä¹¦å°±æœ‰ç”¨ã€‚
          å‡¡æ˜¯"æƒ³è¦å¿«é€Ÿä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆ"çš„åœ°æ–¹ï¼Œå…ˆæŠŠè¿™ç« è¯»é€å†è¯´ã€‚
        </p>
      </div>
      <div class="critic-item">
        <div class="ci-title">âš ï¸ æ³¨æ„äº‹é¡¹ä¸å±€é™æ€§</div>
        <p>
          è¿™æœ¬ä¹¦çš„å‰æå‡è®¾æ˜¯<strong style="color:#f1f5f9;">è¡¥ç ã€32ä½å­—é•¿ã€æ•´æ•°æº¢å‡ºä¸ä¸­æ–­</strong>ã€‚
          åœ¨ Rust ä¸­ debug æ¨¡å¼æ•´æ•°æº¢å‡ºä¼š panicï¼›åœ¨æŸäº›åµŒå…¥å¼å¹³å°å­—é•¿ä¸æ˜¯32ä½ï¼›
          åœ¨ C23 æ ‡å‡†ä¸­æœ‰ç¬¦å·æ•´æ•°æº¢å‡ºçš„ UB è¯­ä¹‰æ­£åœ¨è§„èŒƒåŒ–ã€‚
          æ­¤å¤–ï¼Œéšç€ SIMD/GPU è®¡ç®—æ™®åŠï¼Œ"é€å­—æ“ä½œ"çš„å‡è®¾æ­£åœ¨è¢«"å‘é‡åŒ–"å–ä»£â€”â€”
          å¾ˆå¤šæŠ€å·§éœ€è¦é€‚é… AVX-512 æˆ– CUDA kernel æ‰èƒ½å‘æŒ¥æœ€å¤§ä»·å€¼ã€‚
          <strong style="color:var(--red);">è¯»è¿™æœ¬ä¹¦æ—¶ï¼Œè„‘å­é‡Œè¦å§‹ç»ˆæœ‰ä¸€ä¸ªé—®å·ï¼šåœ¨æˆ‘çš„ç›®æ ‡å¹³å°ä¸Šï¼Œè¿™ä¸ªå‡è®¾æˆç«‹å—ï¼Ÿ</strong>
        </p>
      </div>
    </div>
  </section>

  <footer>
    <p>
      <a href="index.html">â† è¿”å›ç›®å½•</a>
      &nbsp;Â·&nbsp; Chapter 1 of 18
      &nbsp;Â·&nbsp; <a href="ch02.html">Chapter 2: Basics â†’</a>
    </p>
    <p style="margin-top:.5rem;">Hacker's Delight 2nd Ed. Â· Henry S. Warren, Jr. Â· Addison-Wesley 2013</p>
  </footer>

</div>

<script>
/* â”€â”€â”€ Alpine.js ä¸» App â”€â”€â”€ */
function app() {
  return {
    opsTab: 'c',
    init() {
      this.initCanvas();
      this.initProgress();
      this.initScrollSpy();
      this.$nextTick(() => {
        this.initChartTwos();
        this.initChartHistory();
      });
    },
    initProgress() {
      window.addEventListener('scroll', () => {
        const s = document.documentElement.scrollTop;
        const h = document.documentElement.scrollHeight - window.innerHeight;
        document.getElementById('progress').style.width = (h > 0 ? s/h*100 : 0) + '%';
      });
    },
    initScrollSpy() {
      const secs = ['hero','notation','risc','twos','numrep','history','ops','critique'];
      const dots = document.querySelectorAll('.dot');
      window.addEventListener('scroll', () => {
        let cur = 0;
        secs.forEach((id, i) => {
          const el = document.getElementById(id);
          if (el && el.getBoundingClientRect().top < window.innerHeight * 0.5) cur = i;
        });
        dots.forEach((d, i) => d.classList.toggle('active', i === cur));
      });
      dots.forEach((d, i) => {
        d.addEventListener('click', () => {
          document.getElementById(secs[i])?.scrollIntoView({behavior:'smooth'});
        });
      });
    },
    initChartTwos() {
      const el = document.getElementById('chart-twos');
      if (!el || !window.echarts) return;
      const chart = echarts.init(el, 'dark');
      // 4ä½è¡¥ç : -8 åˆ° 7
      const labels = [], uvals = [], svals = [];
      for (let bits = 0; bits < 16; bits++) {
        const s = bits >= 8 ? bits - 16 : bits;
        labels.push('0b' + bits.toString(2).padStart(4,'0'));
        uvals.push(bits);
        svals.push(s);
      }
      chart.setOption({
        backgroundColor: 'transparent',
        grid: {left:'5%', right:'5%', top:'15%', bottom:'18%'},
        tooltip: {
          trigger:'axis',
          backgroundColor:'#0d1117',
          borderColor:'rgba(0,255,136,.3)',
          textStyle:{color:'#e2e8f0', fontFamily:'JetBrains Mono'}
        },
        legend: {data:['æ— ç¬¦å·å€¼','æœ‰ç¬¦å·å€¼'], textStyle:{color:'#475569',fontSize:11}},
        xAxis: {
          data: labels,
          axisLabel:{color:'#334155', fontSize:9, interval:0, rotate:45},
          axisLine:{lineStyle:{color:'#1e293b'}}
        },
        yAxis: {
          axisLabel:{color:'#475569'},
          splitLine:{lineStyle:{color:'rgba(30,41,59,.5)'}},
          axisLine:{lineStyle:{color:'#1e293b'}}
        },
        series: [
          {
            name:'æ— ç¬¦å·å€¼', type:'bar',
            data: uvals,
            barMaxWidth: 20,
            itemStyle:{color:'rgba(0,212,255,.7)', borderRadius:2}
          },
          {
            name:'æœ‰ç¬¦å·å€¼', type:'line',
            data: svals,
            smooth: true,
            lineStyle:{color:'#00ff88', width:2},
            itemStyle:{color:'#00ff88'},
            areaStyle:{color:'rgba(0,255,136,.08)'},
            symbol:'circle', symbolSize:5
          }
        ]
      });
      window.addEventListener('resize', () => chart.resize());
    },
    initChartHistory() {
      const el = document.getElementById('chart-history');
      if (!el || !window.echarts) return;
      const chart = echarts.init(el, 'dark');
      chart.setOption({
        backgroundColor:'transparent',
        grid:{left:'5%', right:'5%', top:'15%', bottom:'15%'},
        tooltip:{
          trigger:'axis',
          backgroundColor:'#0d1117',
          borderColor:'rgba(0,255,136,.3)',
          textStyle:{color:'#e2e8f0', fontFamily:'JetBrains Mono', fontSize:11}
        },
		
        xAxis: {
          data: ['1940s\nEDVAC', '1950s\nIBM704', '1961\nStrachey', '1972\nHAKMEM', '1980s\nRISC', '1990s\nGCC', '2002\nHDåˆç‰ˆ', '2013\nHDäºŒç‰ˆ', '2015+\nBMI/POPCNT'],
          axisLabel:{color:'#334155', fontSize:9, interval:0},
          axisLine:{lineStyle:{color:'#1e293b'}}
        },
        yAxis: {
          name:'å½±å“åŠ›æŒ‡æ•°',
          nameTextStyle:{color:'#475569', fontSize:10},
          axisLabel:{color:'#475569'},
          splitLine:{lineStyle:{color:'rgba(30,41,59,.5)'}},
          axisLine:{lineStyle:{color:'#1e293b'}}
        },
        series:[{
          type:'line',
          data:[10,20,35,60,72,80,92,96,100],
          smooth:true,
          lineStyle:{color:'var(--neon-green)',width:2.5},
          itemStyle:{color:'#00ff88'},
          areaStyle:{
            color:{
              type:'linear', x:0, y:0, x2:0, y2:1,
              colorStops:[
                {offset:0, color:'rgba(0,255,136,0.25)'},
                {offset:1, color:'rgba(0,255,136,0)'}
              ]
            }
          },
          markPoint:{
            data:[
              {name:'HAKMEM', coord:['1972\nHAKMEM', 60], itemStyle:{color:'rgba(177,79,255,0.8)'}},
              {name:'HDäºŒç‰ˆ', coord:['2013\nHDäºŒç‰ˆ', 96], itemStyle:{color:'rgba(0,212,255,0.8)'}}
            ],
            label:{fontSize:9, color:'#fff'}
          },
          symbol:'circle', symbolSize:6
        }]
      });
      window.addEventListener('resize', () => chart.resize());
    },
    initCanvas() {
      const canvas = document.getElementById('bg');
      const ctx = canvas.getContext('2d');
      let W, H;
      const resize = () => {
        W = canvas.width = window.innerWidth;
        H = canvas.height = window.innerHeight;
      };
      resize();
      window.addEventListener('resize', resize);

      // æµ®åŠ¨äºŒè¿›åˆ¶ç²’å­
      const particles = Array.from({length:50}, () => ({
        x: Math.random() * 1920,
        y: Math.random() * 1080,
        vy: 0.2 + Math.random() * 0.5,
        char: Math.random() < 0.5 ? '0' : '1',
        alpha: 0.04 + Math.random() * 0.12,
        size: 10 + Math.random() * 8
      }));

      const draw = () => {
        ctx.clearRect(0, 0, W, H);
        particles.forEach(p => {
          ctx.fillStyle = `rgba(0,255,136,${p.alpha})`;
          ctx.font = `${p.size}px monospace`;
          ctx.fillText(p.char, p.x % W, p.y % H);
          p.y += p.vy;
          if (p.y > H) { p.y = -20; p.x = Math.random() * W; }
          if (Math.random() < 0.015) p.char = Math.random() < 0.5 ? '0' : '1';
        });
        requestAnimationFrame(draw);
      };
      draw();
    }
  };
}

/* â”€â”€â”€ è¡¥ç æ¼”ç¤º â”€â”€â”€ */
function bitDemo() {
  return {
    bits: Array(32).fill(0),
    get unsigned_val() {
      let v = 0;
      for (let i = 0; i < 32; i++) v = (v * 2 + this.bits[i]) >>> 0;
      return v >>> 0;
    },
    get signed() {
      const u = this.unsigned_val;
      return u >= 0x80000000 ? u - 0x100000000 : u;
    },
    get hex() {
      return '0x' + this.unsigned_val.toString(16).toUpperCase().padStart(8, '0');
    },
    get neg_val() {
      const n = (~this.unsigned_val + 1) | 0;
      return n;
    },
    toggle(i) {
      this.bits[i] = this.bits[i] ? 0 : 1;
    }
  };
}

/* â”€â”€â”€ æ•°åˆ¶è½¬æ¢å™¨ â”€â”€â”€ */
function numConverter() {
  return {
    val: -1,
    result: null,
    convert() {
      let n = parseInt(this.val);
      if (isNaN(n)) { this.result = null; return; }
      // é’³åˆ¶åˆ°32ä½æœ‰ç¬¦å·èŒƒå›´
      if (n > 2147483647)  n = 2147483647;
      if (n < -2147483648) n = -2147483648;

      const u32 = n >>> 0;                              // æ— ç¬¦å·32ä½
      const not_u = (~u32) >>> 0;                       // æŒ‰ä½å–åï¼ˆæ— ç¬¦å·ï¼‰
      const not_s = (~u32) | 0;                         // æŒ‰ä½å–åï¼ˆæœ‰ç¬¦å·è§£é‡Šï¼‰
      const neg   = ((-u32) | 0);                       // è¡¥ç å–è´Ÿ
      const xandxm1 = (u32 & (u32 - 1)) >>> 0;         // æ¸…é™¤æœ€ä½ä½1

      this.result = {
        signed:   n,
        unsigned: u32,
        hex:      '0x' + u32.toString(16).toUpperCase().padStart(8, '0'),
        bin:      u32.toString(2).padStart(32, '0').replace(/(.{8})/g, '$1 ').trim(),
        oct:      '0o' + u32.toString(8),
        not_val:  not_s + '  (0x' + not_u.toString(16).toUpperCase().padStart(8,'0') + ')',
        neg_val:  neg,
        xandxm1:  xandxm1 + '  (æ¸…é™¤æœ€ä½ä½1ï¼Œè‹¥ç»“æœ=0åˆ™åŸæ•°æ˜¯2çš„å¹‚æˆ–0)'
      };
    },
    init() { this.convert(); }
  };
}
</script>
</body>
</html>
